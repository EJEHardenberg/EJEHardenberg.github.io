<!DOCTYPE HTML>
<html>
 <head>
  <title>
   Ethan's Tech Blog | Spray ToResponseMarshallable "Too Many Arguments" error
  </title>
  <meta content="text/html; charset=utf-8" http-equiv="content-type"/>
  <meta content="An error with a non-helpful error message and its solution." name="description"/>
  <meta content="Ethan Eldridge" name="author"/>
  <meta content="spray,scala,error,ToResponseMarshallable,too many arguments" name="keywords"/>
  <meta content="index, follow" name="robots"/>
  <meta content="1 month" name="revisit-after"/>
  <meta content="width=device-width, initial-scale=1, maximum-scale=1" name="viewport"/>
  <link href="//static.ethanjoachimeldridge.info/favicon.ico" rel="shortcut icon" type="image/x-icon"/>
  <link href="//static.ethanjoachimeldridge.info/favicon.ico" rel="icon" type="image/ico"/>
  <!-- Facebook Open Graph Tags -->
  <meta content='Ethan Eldridge | Spray ToResponseMarshallable "Too Many Arguments" error' property="og:title"/>
  <meta content="article" property="og:type"/>
  <meta content="//static2.ethanjoachimeldridge.info/ethan.jpeg" property="og:image"/>
  <meta content="http://www.ethanjoachimeldridge.info/" property="og:url"/>
  <meta content="An error with a non-helpful error message and its solution." property="og:description"/>
  <!-- Twitter Card Tags -->
  <meta content="summary" name="twitter:card"/>
  <meta content='Ethan Eldridge | Spray ToResponseMarshallable "Too Many Arguments" error' name="twitter:title"/>
  <meta content="An error with a non-helpful error message and its solution." name="twitter:description"/>
  <meta content="//static2.ethanjoachimeldridge.info/ethan.jpeg" name="twitter:image"/>
  <!-- Core CSS Scripts -->
  <link crossorigin="anonymous" href="//css.ethanjoachimeldridge.info/style.css" integrity="sha384-N5yYwPDw4cymKjw0SjwRTKGAR4pv2PWn7wUtflWwszx/tkL1rEaVQyalmX2tM3wO" rel="stylesheet"/>
  <script>
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-52103053-1', 'www.ethanjoachimeldridge.info');
  ga('require', 'linkid', 'linkid.js');
  ga('send', 'pageview');
  </script>
 </head>
 <body>
  <header>
   <h1>
    Spray ToResponseMarshallable "Too Many Arguments" error
   </h1>
  </header>
  <div id="content">
   <a href="/tech-blog">
    Back
   </a>
   <h3>
    Spray ToResponseMarshallable "too many arguments" Error
   </h3>
   <p>
    So you've setup a
    <a href="http://spray.io/">
     Spray
    </a>
    API of some kind. You've got controllers, 
JSON, all sorts of goodies. You're working happily away when a co-worker 
wants to write some tests for improper behavior. Sure! You say, and 
watch them send a request with malformed content and improper urls.
   </p>
   <p>
    You're suddenly looking at a
    <em>
     very
    </em>
    plaintext output from spray that says:
   </p>
   <pre><code>The requested resource could not be found.
</code></pre>
   <p>
    Oops. Looks like you forgot to add a rejection handler! Luckily,
    <a href="https://gist.github.com/jrudolph/9387700">
     Johannes
    </a>
    has your back, providing a useful gist. You use it as an example and write
your own, returning your own response message with a
    <code>
     BadRequest
    </code>
    status 
code.
   </p>
   <pre><code>case MalformedRequestContentRejection(message, _) :: _ =&gt; {                     
    complete(StatusCodes.BadRequest, AwesomeResponseObject(400, RequestFailed(message)))
}
</code></pre>
   <p>
    And then your compile fails:
   </p>
   <pre><code>[error] src/main/scala/com/example/routing/MyRoutes.scala:48: too many arguments for method apply: (v1: =&gt; spray.httpx.marshalling.ToResponseMarshallable)spray.routing.StandardRoute in trait Function1
[error]                     complete(StatusCodes.BadRequest, AwesomeResponseObject(400, RequestFailed(msg)))
</code></pre>
   <p>
    What? This rather unhelpful message is complaining because the neccesary 
magnets you need to have imported to handle the
    <code>
     complete
    </code>
    method aren't
in place. How do you get them? Simple:
   </p>
   <pre><code>import spray.http._
</code></pre>
   <p>
    I found this through some trial and error and intuition. But I'm not sure 
where in the
    <a href="https://github.com/spray/spray/tree/master/spray-http/src/main/scala/spray/http">
     package
    </a>
    the neccesary information is defined. So I'm not sure 
how to make this import be only what is neccesary. Still, hope this helps, as
the only other person I've seen with this error did not link a solution 
but rather just
    <a href="https://gist.github.com/gkossakowski/10277880">
     cluttered up github
    </a>
    .
   </p>
   <h3>
    Other Posts
   </h3>
   <div id="other-posts">
    <ul>
     <li>
      <a href="scala-xml-xsd-validation">
       Scala, XML, and XSD Validation
      </a>
     </li>
     <li>
      <a href="newrelic-xml-scala-instrumentation">
       NewRelic, Scala, and XML Instrumentation
      </a>
     </li>
     <li>
      <a href="combine-xml-files">
       Combine XML files with Bash
      </a>
     </li>
     <li>
      <a href="compromising-wordpress">
       WordPress 4.2 Exploit, SQL Injection Edition
      </a>
     </li>
     <li>
      <a href="how-to-create-sbt-task-that-takes-an-argument">
       How to create an SBT task that takes an argument
      </a>
     </li>
     <li>
      <a href="jenkins-multiple-deploy-keys-and-github">
       Multiple Deploy Keys and Jenkins
      </a>
     </li>
    </ul>
   </div>
   <div id="disqus_thread">
   </div>
   <script type="text/javascript">
    var disqus_shortname = 'ejehardenberg';
        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
   </script>
   <noscript>
    Please enable JavaScript to view the
    <a href="http://disqus.com/?ref_noscript">
     comments powered by Disqus.
    </a>
   </noscript>
   <a class="dsq-brlink" href="http://disqus.com">
    <!--
-->
    comments powered by
    <span class="logo-disqus">
     Disqus
    </span>
   </a>
  </div>
  <nav>
   <ul>
    <li>
     <a href="/index">
      <img height="32px" src="//static1.ethanjoachimeldridge.info/california.jpg" width="32px"/>
      <!--
-->
      <span>
       Home
      </span>
     </a>
    </li>
    <li>
     <a href="/about">
      <img height="32px" src="//static2.ethanjoachimeldridge.info/ethan.jpeg" width="32px"/>
      <!--
-->
      <span>
       About me
      </span>
     </a>
    </li>
    <li>
     <a href="/projects">
      <img height="32px" src="//static3.ethanjoachimeldridge.info/project.png" width="32px"/>
      <!--
-->
      <span>
       Projects
      </span>
     </a>
    </li>
    <li>
     <a href="/resume">
      <img height="32px" src="//static4.ethanjoachimeldridge.info/cv.png" width="32px"/>
      <!--
-->
      <span>
       Resume
      </span>
     </a>
    </li>
    <li>
     <a href="/tech-blog">
      <img height="32px" src="//static5.ethanjoachimeldridge.info/tech-blog.png" width="32px"/>
      <!--
-->
      <span>
       Tech Blog
      </span>
     </a>
    </li>
    <li>
     <a href="/cooking">
      <img height="32px" src="//static6.ethanjoachimeldridge.info/cooking.jpg" width="32px"/>
      <!--
-->
      <span>
       Cooking
      </span>
     </a>
    </li>
    <li>
     <a href="/writing">
      <img height="32px" src="//static7.ethanjoachimeldridge.info/writing.png" width="32px"/>
      <!--
-->
      <span>
       Writing
      </span>
     </a>
    </li>
    <li>
     <a href="/contact">
      <img height="32px" src="//static.ethanjoachimeldridge.info/contact.png" width="32px"/>
      <!--
-->
      <span>
       Contact
      </span>
     </a>
    </li>
    <li>
     <a href="/writing/political">
      <img height="32px" src="//static1.ethanjoachimeldridge.info/politics.png" width="32px"/>
      <!--
-->
      <span>
       Opinion
      </span>
     </a>
    </li>
    <li>
     <a href="https://github.com/EdgeCaseBerg">
      <img height="32px" src="//static2.ethanjoachimeldridge.info/github.png" width="32px"/>
      <!--
-->
      <span>
       Github
      </span>
     </a>
    </li>
    <li>
     <a href="https://twitter.com/TheR3dLily">
      <img height="32px" src="//static3.ethanjoachimeldridge.info/twitter-bird-light-bgs.png" width="32px"/>
      <!--
-->
      <span>
       @TheR3dLily
      </span>
     </a>
    </li>
    <li>
     <a href="http://www.linkedin.com/profile/view?id=151414806">
      <img height="32px" src="//static4.ethanjoachimeldridge.info/LinkedIn_logo.png" width="32px"/>
      <!--
-->
      <span>
       LinkedIn
      </span>
     </a>
    </li>
   </ul>
  </nav>
 </body>
</html>