<!DOCTYPE HTML>
<html>
 <head>
  <title>
   Ethan's Tech Blog | Value Raw is not a member of String, Scala Error
  </title>
  <meta content="text/html; charset=utf-8" http-equiv="content-type"/>
  <meta content="Stumbled across an odd compilation and interpolation error today in my travels through scala." name="description"/>
  <meta content="Ethan Eldridge" name="author"/>
  <meta content="value raw is not a member of string,scala,xml,compile,error,bug" name="keywords"/>
  <meta content="index, follow" name="robots"/>
  <meta content="1 month" name="revisit-after"/>
  <meta content="width=device-width, initial-scale=1, maximum-scale=1" name="viewport"/>
  <link href="//static.ethanjoachimeldridge.info/favicon.ico" rel="shortcut icon" type="image/x-icon"/>
  <link href="//static.ethanjoachimeldridge.info/favicon.ico" rel="icon" type="image/ico"/>
  <!-- Facebook Open Graph Tags -->
  <meta content="Ethan Eldridge | Value Raw is not a member of String, Scala Error" property="og:title"/>
  <meta content="article" property="og:type"/>
  <meta content="//static2.ethanjoachimeldridge.info/ethan.jpeg" property="og:image"/>
  <meta content="http://www.ethanjoachimeldridge.info/" property="og:url"/>
  <meta content="Stumbled across an odd compilation and interpolation error today in my travels through scala." property="og:description"/>
  <!-- Twitter Card Tags -->
  <meta content="summary" name="twitter:card"/>
  <meta content="Ethan Eldridge | Value Raw is not a member of String, Scala Error" name="twitter:title"/>
  <meta content="Stumbled across an odd compilation and interpolation error today in my travels through scala." name="twitter:description"/>
  <meta content="//static2.ethanjoachimeldridge.info/ethan.jpeg" name="twitter:image"/>
  <!-- Core CSS Scripts -->
  <link crossorigin="anonymous" href="//css.ethanjoachimeldridge.info/style.css" integrity="sha384-N5yYwPDw4cymKjw0SjwRTKGAR4pv2PWn7wUtflWwszx/tkL1rEaVQyalmX2tM3wO" rel="stylesheet"/>
  <script>
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-52103053-1', 'www.ethanjoachimeldridge.info');
  ga('require', 'linkid', 'linkid.js');
  ga('send', 'pageview');
  </script>
 </head>
 <body>
  <header>
   <h1>
    Value Raw is not a member of String, Scala Error
   </h1>
  </header>
  <div id="content">
   <a href="/tech-blog">
    Back
   </a>
   <h3>
    Value Raw is not a member of String (weird error in scala)
   </h3>
   <p>
    Today I was working on a pretty simple system, it involved using the 
routes of a
    <a href="https://www.playframework.com/documentation/2.3.x/Home">
     PlayFramework
    </a>
    application to decide the format of the view. 
Specifically, visiting a resource with a url ending in
    <code>
     .html
    </code>
    would 
result in an HTML page being rendered, and similarly with XML.
   </p>
   <p>
    In addition to the type of data being display, the way it was displayed, 
or its template, also could change according to a url. For example, 
displaying a mobile view vs a desktop view, a table vs a list view, a 
view without any images or style, one with bootstrap... (you get the 
picture).
   </p>
   <p>
    But while writing up some error handling code I ran into a really odd 
error message:
   </p>
   <p>
    "value raw is not a member of a String"
   </p>
   <pre><code>[error] /path/app/views/common/templateNotFound.scala.xml:4: value raw is not a member of String
[error]     &lt;Message&gt;The template or the format does exist&lt;/Message&gt;
[error]                           ^
[error] one error found
[error] (compile:compile) Compilation failed
</code></pre>
   <p>
    The offending code was this rather innocuous view:
   </p>
   <pre><code>@(template: String, format: String) 
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;ViewError&gt;
    &lt;Message&gt;The template or the format does exist&lt;/Message&gt;
    &lt;Template&gt;@template&lt;/Template&gt;
    &lt;Format&gt;@format&lt;/Format&gt;
&lt;/ViewError&gt;
</code></pre>
   <p>
    Nothing about this code immediately jumped out to me as horribly 
incorrect, and I confused myself some more by removing parts, 
seeing the same error message, placing them back in, changing the 
file name, turning sbt on and off. And in general, scratching my head.
   </p>
   <p>
    After about 5 or so minutes of this, I became suspicious of my variable 
names. Having read the book
    <a href="http://scalapuzzlers.com/">
     Scala Puzzlers
    </a>
    , I knew that sometimes the 
compiler can do
    <em>
     some really funny stuff
    </em>
    . Since my view is essentially 
one giant XML literal, I guessed that maybe something was being 
interpolated or resolved in an odd way. I made the slight change:
   </p>
   <pre><code>@(badTemplate: String, badFormat: String) 
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;ViewError&gt;
    &lt;Message&gt;The template or the format does exist&lt;/Message&gt;
    &lt;Template&gt;@badTemplate&lt;/Template&gt;
    &lt;Format&gt;@badFormat&lt;/Format&gt;
&lt;/ViewError&gt;
</code></pre>
   <p>
    Saved the file and let
    <code>
     sbt ~compile
    </code>
    catch it and sure enough:
   </p>
   <pre><code>[info] Compiling 1 Scala source to /path/target/scala-2.10/classes...
[success] Total time: 14 s, completed Apr 27, 2015 11:45:50 PM
</code></pre>
   <p>
    Hope this helps someone out there!
   </p>
   <h3>
    Other Posts
   </h3>
   <div id="other-posts">
    <ul>
     <li>
      <a href="has-many-relationships-slick">
       Handling Has-Many Relationships with Slick
      </a>
     </li>
     <li>
      <a href="targeting-java-platforms-with-sbt">
       Targeting Java Platforms with SBT
      </a>
     </li>
     <li>
      <a href="mongodb-install-replica-set-and-backup">
       Install and Backup a MongoDB Replica Set
      </a>
     </li>
     <li>
      <a href="strace-adventure">
       An Adventure with strace
      </a>
     </li>
     <li>
      <a href="value-enablePlugins-is-not-a-member-of-sbt-Project">
       Value EnablePlugins is not a member of sbt.Project error
      </a>
     </li>
     <li>
      <a href="remove-google-search-history">
       How to remove your entire google search history
      </a>
     </li>
    </ul>
   </div>
   <div id="disqus_thread">
   </div>
   <script type="text/javascript">
    var disqus_shortname = 'ejehardenberg';
        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
   </script>
   <noscript>
    Please enable JavaScript to view the
    <a href="http://disqus.com/?ref_noscript">
     comments powered by Disqus.
    </a>
   </noscript>
   <a class="dsq-brlink" href="http://disqus.com">
    <!--
-->
    comments powered by
    <span class="logo-disqus">
     Disqus
    </span>
   </a>
  </div>
  <nav>
   <ul>
    <li>
     <a href="/index">
      <img height="32px" src="//static1.ethanjoachimeldridge.info/california.jpg" width="32px"/>
      <!--
-->
      <span>
       Home
      </span>
     </a>
    </li>
    <li>
     <a href="/about">
      <img height="32px" src="//static2.ethanjoachimeldridge.info/ethan.jpeg" width="32px"/>
      <!--
-->
      <span>
       About me
      </span>
     </a>
    </li>
    <li>
     <a href="/projects">
      <img height="32px" src="//static3.ethanjoachimeldridge.info/project.png" width="32px"/>
      <!--
-->
      <span>
       Projects
      </span>
     </a>
    </li>
    <li>
     <a href="/resume">
      <img height="32px" src="//static4.ethanjoachimeldridge.info/cv.png" width="32px"/>
      <!--
-->
      <span>
       Resume
      </span>
     </a>
    </li>
    <li>
     <a href="/tech-blog">
      <img height="32px" src="//static5.ethanjoachimeldridge.info/tech-blog.png" width="32px"/>
      <!--
-->
      <span>
       Tech Blog
      </span>
     </a>
    </li>
    <li>
     <a href="/cooking">
      <img height="32px" src="//static6.ethanjoachimeldridge.info/cooking.jpg" width="32px"/>
      <!--
-->
      <span>
       Cooking
      </span>
     </a>
    </li>
    <li>
     <a href="/writing">
      <img height="32px" src="//static7.ethanjoachimeldridge.info/writing.png" width="32px"/>
      <!--
-->
      <span>
       Writing
      </span>
     </a>
    </li>
    <li>
     <a href="/contact">
      <img height="32px" src="//static.ethanjoachimeldridge.info/contact.png" width="32px"/>
      <!--
-->
      <span>
       Contact
      </span>
     </a>
    </li>
    <li>
     <a href="/writing/political">
      <img height="32px" src="//static1.ethanjoachimeldridge.info/politics.png" width="32px"/>
      <!--
-->
      <span>
       Opinion
      </span>
     </a>
    </li>
    <li>
     <a href="https://github.com/EdgeCaseBerg">
      <img height="32px" src="//static2.ethanjoachimeldridge.info/github.png" width="32px"/>
      <!--
-->
      <span>
       Github
      </span>
     </a>
    </li>
    <li>
     <a href="https://twitter.com/TheR3dLily">
      <img height="32px" src="//static3.ethanjoachimeldridge.info/twitter-bird-light-bgs.png" width="32px"/>
      <!--
-->
      <span>
       @TheR3dLily
      </span>
     </a>
    </li>
    <li>
     <a href="http://www.linkedin.com/profile/view?id=151414806">
      <img height="32px" src="//static4.ethanjoachimeldridge.info/LinkedIn_logo.png" width="32px"/>
      <!--
-->
      <span>
       LinkedIn
      </span>
     </a>
    </li>
   </ul>
  </nav>
 </body>
</html>