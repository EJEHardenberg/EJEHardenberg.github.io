<!DOCTYPE HTML>
<html>
  <head>
    <title>Ethan's Tech Blog | Incorrect Time in PHP despite Timezone</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="description" content="A weird configuration problem with TimeZone settings in PHP and how it was fixed." />
    <meta name="author" content="Ethan Eldridge">
    <meta name="keywords" content="Ethan,Eldridge,Joachim,Programming"/>
    <meta name="robots" content="index, follow"  />
      <meta name="revisit-after" content="1 month" />
      <meta name="viewport" content="width=1040" />
      
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="icon" href="/favicon.ico" type="image/ico">

        
    <!-- Facebook Open Graph Tags -->
    <meta property="og:title" content="Ethan Eldridge | Incorrect Time in PHP despite Timezone" />
    <meta property="og:type" content="article" />
    <meta property="og:image" content="/images/ethan.jpeg" />
    <meta property="og:url" content="http://www.ethanjoachimeldridge.info/" />
    
    <meta property="og:description" content="A weird configuration problem with TimeZone settings in PHP and how it was fixed." />
    

    <!-- Twitter Card Tags -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Ethan Eldridge | Incorrect Time in PHP despite Timezone" />
    
    <meta name="twitter:description" content="A weird configuration problem with TimeZone settings in PHP and how it was fixed." />
    
    <meta name="twitter:image" content="/images/ethan.jpeg" />
    	<!-- Core CSS Scripts -->
	<link rel='stylesheet' href='/css/style.css' />

	<!-- Core Javascript -->
	<script type="text/javascript" src="/javascript/jquery.min.1.9.1.js" ></script>
	<script type="text/javascript" src="/javascript/app.js" ></script>

	 <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-43866715-1']);
    _gaq.push(['_trackPageview']);

    (function() {
          var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
          ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>
  </head>
  <body>
    <header>
      <h1>Incorrect Time in PHP despite Timezone</h1>
    </header>


    <div id="content">
      <a href="/tech-blog">Back</a>
      <p>Today I was configuring a server&#39;s system time, the server was an Amazon
one and after setting the php.ini file&#39;s <code>date.timezone</code> field I found a
perplexing output from running php&#39;s date functions.</p>
<p>The time was off by a half hour! </p>
<p>This was quite odd since it wasn&#39;t a whole hour. After thinking a bit and
checking the php.ini settings, I looked at the date.default_latitude and 
date.default_longitude fields. They were set to somewhere in turkey. 
Editing these two fields to point to within the same timezone as the one
I had set caused the time to switch to the correct one.</p>
<p>Very strange! According to the php documentation, those configuration 
settings only effect the sunrise functions. Apparently not!</p>

      

      
          <a href=chunked-encoding-for-reports>Using Chunked Encoding for Reporting in Wordpress</a>
      

      
          <a href=harp-and-smut>Harp and Smut</a>
      
      <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'ejehardenberg';
        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink"><!--
    -->comments powered by <span class="logo-disqus">Disqus</span>
</a>   
    </div>
    <nav>
	<ul>
		
			<li>
				<a href="/index">
					<img src="/images/ethan.jpeg" /><!--
					-->About me
				</a>
			</li>
		
			<li>
				<a href="/projects">
					<img src="/images/project.png" /><!--
					-->Projects
				</a>
			</li>
		
			<li>
				<a href="/resume">
					<img src="/images/cv.png" /><!--
					-->Resume
				</a>
			</li>
		
			<li>
				<a href="/tech-blog">
					<img src="/images/tech-blog.png" /><!--
					-->Tech Blog
				</a>
			</li>
		
			<li>
				<a href="/cooking">
					<img src="/images/cooking.jpg" /><!--
					-->Cooking
				</a>
			</li>
		
			<li>
				<a href="/writing">
					<img src="/images/writing.png" /><!--
					-->Writing
				</a>
			</li>
		
			<li>
				<a href="/contact">
					<img src="/images/contact.png" /><!--
					-->Contact
				</a>
			</li>
		
		<li>
			<a href="https://github.com/EJEHardenberg">
				<img src="/images/github.png" /><!--
				-->Github
			</a>
		</li>
		<li>
			<a href="https://twitter.com/EthanJEldridge">
				<img src="/images/twitter-bird-light-bgs.png" /><!--
				-->@EthanJEldridge
			</a>
		</li>
		<li>
			<a href="http://www.linkedin.com/profile/view?id=151414806">
				<img src="/images/LinkedIn_logo.png" /><!--
				-->LinkIn
			</a>
		</li>
	</ul>
</nav>
  </body>
</html>
  	