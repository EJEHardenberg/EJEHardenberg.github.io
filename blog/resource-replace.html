<html>
  <head>
    <title>Resource Replace, update js and css domain links</title>
    <meta name="description" content="Ethan Eldridge's personal website"/>
	<meta name="keywords" content="Ethan,Eldridge,Joachim,Programming"/>
	<meta charset=utf-8 />
	<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />

    <link rel='stylesheet' href='/main.css' />
    <script src="/js/app.js"></script>
    <meta name="description" content="Personal website of Ethan Joachim Eldridge. Resume, blog, cooking, writing and more" />
  </head>
  <body>
  	<h1 id="huge">Ethan Joachim Eldridge: A Programmer.</h1>

<ol>
	<li><a href="/index.html">Home</a></li>
	<li><a href="https://github.com/EJEHardenberg">Github</a></li>
	<li><a href="/write">Writing</a></li>
	<li><a href="/projects">Projects</a></li>
	<li><a href="/resume">Resume</a></li>
	<li><a href="//ejehardenberg.github.io/cooking">Cooking</a></li>
</ol>



    <h3>Changing domain names of javascript and css files in WordPress</h3>
<p>Today I was looking through WordPress plugins trying to find a plugin
that updated domain names for resources like images, javascript, and css
to point somewhere else. Mainly, I wanted some javascript and css to be
served from a CDN, and didn&#39;t want/need the bloat of something like
<a href="http://wordpress.org/plugins/w3-total-cache/">w3tc</a>. While it&#39;s one of the best known plugins and handles <em>a</em> <em>lot</em> 
of functionality, the bugs in it are sometimes disastrously crippling to
a site. </p>
<p>So, as it often is, I decided to <a href="https://github.com/EJEHardenberg/Resource-Replace">write my own plugin</a> to handle what I 
wanted. In order to filter out css and javascript source links, I ended
up hooking into the <code>style_loader_src</code> and <code>script_loader_src</code> hooks. </p>
<p>To be honest, you don&#39;t need a plugin for this type of functionality, 
openning up your <code>functions.php</code> file in your theme and adding the
following would do the same thing:</p>
<pre><code>add_filter( &#39;style_loader_src&#39;, &#39;css_js_domain_replace_function&#39;);
add_filter( &#39;script_loader_src&#39;, &#39;css_js_domain_replace_function&#39;);
function css_js_domain_replace_function($src){
    if( is_admin()  ) return $src;

    $src = str_replace(site_url(), &#39;maybe-some.cloudfronturl.here&#39;, $src);
    return $src;
}</code></pre>
<p>Though my plugin allows for you to split the domain names for js or css
as well as specify <a href="http://www.php.net/preg_match">ignore patterns</a> so that if you have some css that&#39;s
generated by your server or something, you can make sure you <em>dont</em> replace
that particular file&#39;s domain.</p>
<p>The plugin is called <a href="https://github.com/EJEHardenberg/Resource-Replace">Resource Replace</a> and is available on github for anyone
to use. Granted that they include the MIT License with it and all that other
goodness. </p>
<p>A note though, if you do not include your javascript and css in the proper
&quot;wordpress way&quot;, then this plugin is <strong>not</strong> going to help you. You need
to update your theme to use <code>wp_euque_*</code> functions if that&#39;s the case. If
you&#39;re looking for a solution around that, you can surrounded your <code>wp_head</code>
or <code>get_header</code> function in output buffering and to a replace on the 
captured string.</p>

    

  
      <a class="floatleft" href=wordpress-gripes>Gripes with wordpress's postmeta and autoload</a>
  

  
      <a class="floatright" href=grails-service-mocks>Grails Service Mocks</a>
  
   <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'ejehardenberg'; // required: replace example with your forum shortname
        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    <div id="footer">
      <p>Copyright (c) Ethan Eldridge</p>
    </div>
  </body>
</html>